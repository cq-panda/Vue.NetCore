webpackJsonp([18],{"+skl":function(e,t){},0:function(e,t,n){n("j1ja"),e.exports=n("NHnr")},"11ao":function(e,t){},"1j0K":function(e,t){},KhYh:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("tvR6");var o=n("qBF2"),r=n.n(o),s=n("7+uW"),i=(n("KhYh"),{name:"App",created:function(){document.getElementById("vue-loading").style.display="none"}}),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var u=n("VU/8")(i,a,!1,function(e){n("1j0K"),n("11ao")},null,null).exports,c=n("BTaQ"),l=n.n(c),d=(n("+skl"),n("Gu7T")),f=n.n(d),p=n("/ocq"),m=n("mvHQ"),h=n.n(m),g=n("pFYg"),y=n.n(g),v=n("NYxO"),b={state:{data:{}},mutations:{clear:function(e){e.data={}}},getters:{getData:function(e){return function(){return b}},data:function(e){return function(){return b}}},actions:{}},w=b;s.default.use(v.a);new v.a.Store({modules:{a:{state:{m:123},mutations:{},getters:{},actions:{toDo:function(e){return e.Store.m}}},b:{state:{m:456},mutations:{},getters:{},actions:{toDo:function(e){return e.Store.m}}}},state:{count:12220},mutations:{increment:function(e,t){e.count++}},getters:{newVal:function(e,t){return e.count=888,e.count}},actions:{increment:function(e,t){e.commit("increment",t)}}});function S(e){if(e.userInfo)return e.userInfo;var t=localStorage.getItem(U.USER);return t&&(e.userInfo=JSON.parse(t)),e.userInfo}var U={USER:"user"},I={state:{permission:[],isLoading:!1,userInfo:null,systemSetting:null},mutations:{setPermission:function(e,t){var n;t&&"object"==(void 0===t?"undefined":y()(t))&&(t instanceof Array?(n=e.permission).push.apply(n,f()(t)):e.permission=t)},setSystemSetting:function(e,t){e.systemSetting=t},setUserInfo:function(e,t){e.userInfo=t,localStorage.setItem(U.USER,h()(t))},clearUserInfo:function(e){e.permission=[],e.userInfo=null,localStorage.removeItem(U.USER)},test:function(e){return 113344},updateLoadingState:function(e,t){e.isLoading=t}},getters:{getPermission:function(e){return function(t){return t?e.permission.find(function(e){return e.path==t}):e.permission}},getUserInfo:function(e){return function(){return S(e),e.userInfo}},getUserName:function(e){return function(){return S(e),e.userInfo?e.userInfo.userName:"未获取到登陆信息"}},getSystemSetting:function(e){return function(){return e.systemSetting}},getToken:function(e){return function(){return S(e),e.userInfo?"Bearer "+e.userInfo.token:""}},isLogin:function(e){return function(){return!!S(e)}},isLoading:function(e){return function(){return e.isLoading}}},actions:{setPermission:function(e,t){e.commit("setPermission",t)},toDo:function(e){return e.Store.m},onLoading:function(e,t){e.commit("updateLoadingState",t)},setSystemSetting:function(e,t){e.commit("setSystemSetting",t)}}},k=new v.a.Store({modules:{system:I,data:w}}),L=[{path:"/404",name:"404",component:function(){return n.e(0).then(n.bind(null,"nUj5"))},meta:{anonymous:!0}},{path:"/401",name:"401",component:function(){return n.e(15).then(n.bind(null,"TC7d"))}},{path:"/coding",name:"coding",component:function(){return n.e(14).then(n.bind(null,"1E2z"))}}],C=[{path:"/Sys_Log",name:"sys_Log",component:function(){return n.e(9).then(n.bind(null,"BHqT"))}},{path:"/Sys_User",name:"Sys_User",component:function(){return n.e(7).then(n.bind(null,"SO2C"))}},{path:"/Sys_Dictionary",name:"Sys_Dictionary",component:function(){return n.e(11).then(n.bind(null,"+saS"))}},{path:"/Sys_Role",name:"Sys_Role",component:function(){return n.e(8).then(n.bind(null,"FVtQ"))}},{path:"/Sys_DictionaryList",name:"Sys_DictionaryList",component:function(){return n.e(10).then(n.bind(null,"bdmh"))}},{path:"/Sys_Setting",name:"Sys_Setting",component:function(){return n.e(5).then(n.bind(null,"8a3p"))}},{path:"/Personal",name:"Personal",component:function(){return n.e(12).then(n.bind(null,"beK9"))}}];s.default.use(p.a);var R=new p.a({mode:"history",routes:[{path:"*",component:function(){return n.e(0).then(n.bind(null,"nUj5"))}},{path:"/",name:"Index",component:function(){return n.e(6).then(n.bind(null,"mlqX"))},redirect:"/home",children:[].concat(f()(C),f()(L),[{path:"/home",name:"home",component:function(){return n.e(1).then(n.bind(null,"26dS"))}},{path:"/UserInfo",name:"UserInfo",component:function(){return n.e(4).then(n.bind(null,"a1Ho"))}},{path:"/coder",name:"coder",component:function(){return n.e(3).then(n.bind(null,"WC6f"))}},{path:"/sysMenu",name:"sysMenu",component:function(){return n.e(2).then(n.bind(null,"CUCP"))}},{path:"/permission",name:"permission",component:function(){return n.e(16).then(n.bind(null,"CChK"))}}])},{path:"/login",name:"login",component:function(){return n.e(13).then(n.bind(null,"lmfZ"))},meta:{anonymous:!0}}]});R.beforeEach(function(e,t,n){return k.getters.getUserInfo(),0==e.matched.length?n({path:"/404"}):(k.dispatch("onLoading",!0),e.hasOwnProperty("meta")&&e.meta.anonymous||k.getters.isLogin()?n():void n({path:"/login",query:{redirect:Math.random()}}))}),R.afterEach(function(e,t){k.dispatch("onLoading",!1)}),R.onError(function(e){var t=e.message.match(/Loading chunk (\d)+ failed/g),n=R.history.pending.fullPath;console.log(e.message),console.log(n),t&&window.location.replace(window.location.href)});var E=R,$=n("woOf"),M=n.n($),j=n("//Fk"),x=n.n(j),_=n("mtWM"),A=n.n(_);n("mw3O");A.a.defaults.timeout=5e4,A.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",A.a.defaults.baseURL="http://127.0.0.1:9991/";var T=A.a.defaults.baseURL;A.a.interceptors.request.use(function(e){return N&&D.show(N),e.method,e},function(e){return N&&D.close(),x.a.reject(e)}),A.a.interceptors.response.use(function(e){return N&&D.close(),e.data.success?e:x.a.resolve(e)},function(e){N&&D.close();var t="";return e.response?e.response.data&&e.response.data.message?t=e.response.data.message:"404"==e.response.status&&(t="没有找到请求的地址"):t="网络好像出了点问题~",F(e.response||{},t),x.a.reject(e.response)});var O=null,X="",H="Authorization",q="Bearer ";var P=void 0,D={show:function(e){var t="正在处理中.....";"string"==typeof e&&(t=e),P&&P.close(),P=O.$loading({lock:!0,target:"#loading-container",customClass:"el-loading",text:t,spinner:"el-icon-loading",background:"rgba(58, 61, 63, 0.32)"})},close:function(){P.close()}};function B(){return X?q+X:O.$store.getters.getToken()}var N=void 0;function F(e,t){try{var n="string"==typeof e?JSON.parse(e):e;n.hasOwnProperty("code")&&401==n.code||n.data&&401==n.data.code?K():O.$message.error(t)}catch(t){console.log(t),O.$message.error(e)}}function K(){X="",O.$router.push({path:"/login",params:{r:Math.random()}})}function z(e){G({url:"/api/User/replaceToken",param:{},json:!0,success:function(t){if(t.status){var n=O.$store.getters.getUserInfo();n.token=t.data,X=t.data,O.$store.commit("setUserInfo",n),e()}else console.log(t.message),K()},errror:function(e){console.log(e),K()},type:"post",async:!1})}function G(e){var t=M()({url:"",headers:{},param:{},json:!0,success:function(){},errror:function(){},type:"post",async:!0},e);t.url=A.a.defaults.baseURL+t.url.replace(/\/?/,""),t.headers[H]=B();var n=function(){if(XMLHttpRequest)return new XMLHttpRequest;if(ActiveXObject){if("string"!=typeof arguments.callee.activeXString)for(var e=["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp","MSXML2.XMLHttp.3.0"],t=0;t<e.length;t++)try{new ActiveXObject(e[t]),arguments.callee.activeXString=e[t];break}catch(e){console.log("no")}return new ActiveXObject(arguments.callee.activeXString)}}();for(var o in n.onreadystatechange=function(){403!=n.status&&401!=n.status?202!=n.status?4!=n.readyState||200!=n.status?0!=n.status&&1!=n.readyState&&t.errror(n):t.success(t.json?JSON.parse(n.responseText):n.responseText):z(function(){G(e)}):F(n.responseText)},n.open(t.type,t.url,t.async),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.headers)n.setRequestHeader(o,t.headers[o]);var r="";for(var s in t.param)r+=s+"="+t.param[s];try{n.send(r)}catch(e){K()}}G.post=function(e,t,n,o){G({url:e,param:t,success:n,error:o,type:"post"})},G.get=function(e,t,n,o){G({url:e,param:t,success:n,error:o,type:"post"})};var J={post:function e(t,n,o){return N=o,A.a.defaults.headers[H]=B(),new x.a(function(o,r){A.a.post(t,n).then(function(r){202!=r.status?o(r.data):z(function(){e(t,n,N)})},function(o){202!=o.status?r(o.data&&o.data.message?o.data.message:"网络好像出了点问题~~"):z(function(){e(t,n,N)})}).catch(function(e){r(e)})})},get:function e(t,n,o){return N=o,A.a.defaults.headers[H]=B(),new x.a(function(o,r){A.a.get(t,{params:n}).then(function(r){202!=r.status?o(r.data):z(function(){e(t,n,N)})},function(o){202!=o.status?(F(response.data),r(o)):z(function(){e(t,n,N)})}).catch(function(e){r(e)})})},ajax:G,init:function(e){O=e},ipAddress:T};var V=[{name:"查 询",value:"Search",icon:"md-search",class:"dropdown",type:"info",onClick:function(){this.search()}},{name:"刷 新",icon:"md-refresh",class:"",type:"success",onClick:function(){this.refresh()}},{name:"新 建",icon:"md-add",value:"Add",class:"",type:"error",onClick:function(){this.add()}},{name:"编 辑",icon:"md-create",value:"Update",class:"",type:"success",onClick:function(){this.edit()}},{name:"删 除",icon:"md-close",class:"",value:"Delete",type:"error",onClick:function(){this.del()}},{name:"审 核",icon:"md-create",class:"",value:"Audit",type:"error",onClick:function(){this.audit()}},{name:"导 入",icon:"md-color-fill",class:"",value:"Import",onClick:function(){this.import()}},{name:"导 出",icon:"md-share-alt",class:"",value:"Export",onClick:function(){this.export()}},{name:"数据结构",icon:"ios-cog",class:"",value:"",onClick:function(){this.openViewColumns()}}],Y=null,Q={init:function(e){Y=e},getMenu:function(){return J.get("/api/getTreeMenu")},getButtons:function(e,t,n){n&&(n="/"+n);var o=Y.$store.getters.getPermission(n||e);if(o||(o=Y.$store.getters.getPermission(e.substring(1)))){var r=o.permission,s=V.filter(function(e){return!e.value||-1!=r.indexOf(e.value)});return t&&t instanceof Array&&s.push.apply(s,f()(t)),s}Y.permission.to401()},to401:function(){Y.$router.push({path:"/401"})}},W={isPhone:function(e){return/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(e)},isDecimal:function(e){return/(^[\-0-9][0-9]*(.[0-9]+)?)$/.test(e)},isNumber:function(e){return/(^[\-0-9][0-9]*([0-9]+)?)$/.test(e)},isMail:function(e){return/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e)},isUrl:function(e){return this.checkUrl(e)},checkUrl:function(e){return!!new RegExp("^((https|http|ftp)://)?(([\\w_!~*'()\\.&=+$%-]+: )?[\\w_!~*'()\\.&=+$%-]+@)?(([0-9]{1,3}\\.){3}[0-9]{1,3}|(localhost)|([\\w_!~*'()-]+\\.)*\\w+\\.[a-zA-Z]{1,6})(:[0-9]{1,5})?((/?)|(/[\\w_!~*'()\\.;?:@&=+$,%#-]+)+/?)$","i").test(encodeURI(e))},matchUrlIp:function(e,t){return!(!e||!t)&&e.indexOf(t.replace("https://","").replace("http://",""))>=0},getImgSrc:function(e,t){return this.isUrl(e)?e:t?t+e:e},previewImg:function(e,t){e&&!this.isUrl(e)&&t&&("/"==e.substr(0,1)&&"/"==t.substr(t.length-1,1)&&(e=e.substr(1)),e=t+e);var n=document.getElementById("vol-preview");if(!n){(n=document.createElement("div")).setAttribute("id","vol-preview");var o=document.createElement("div");o.style.position="absolute",o.style.width="100%",o.style.height="100%",o.style.background="black",o.style.opacity="0.6",n.appendChild(o),n.style.position="fixed",n.style.width="100%",n.style.height="100%",n.style.top=0,n.style["z-index"]=9999999;var r=document.createElement("img");return r.setAttribute("class","vol-preview-img"),r.style.position="absolute",r.style.top="50%",r.style.left="50%",r.style["max-width"]="90%",r.style["max-height"]="90%",r.style.transform="translate(-50%,-50%)",r.setAttribute("src",e),n.appendChild(r),n.addEventListener("click",function(){this.style.display="none"}),void document.body.appendChild(n)}document.body.appendChild(n).querySelector(".vol-preview-img").setAttribute("src",e),n.style.display="block"},dowloadFile:function(e,t,n,o){if(e){var r=document.getElementById("dowonloadfile-a");if(r||((r=document.createElement("a")).setAttribute("id","dowonloadfile-a"),document.body.append(r)),!this.isUrl(e)){if(!this.isUrl(o+e))return console.log("文件路径不正确"),void alert("文件路径不正确");e=o+e}r.href=e,r.click()}else alert("此文件没有url不能下载")},downloadImg:function(e){if(e.url&&e.callback&&"function"==typeof e.callback){if(this.isUrl(e.url)&&!this.matchUrlIp(e.url,e.backGroundUrl))return e.url;if(!this.isUrl(e.url)){if(!this.isUrl(e.backGroundUrl+e.url))return;e.url=e.backGroundUrl+e.url}var t=new XMLHttpRequest;if(t.open("get",e.url,!0),t.responseType="blob",t.setRequestHeader("Content-Type","application/json"),e.header&&"object"==y()(e.header))for(var n in e.header)t.setRequestHeader(n,e.header[n]);t.onload=function(){if(200==this.status){var e=this.response;callback(window.URL.createObjectURL(e))}},t.send()}},convertTree:function(e,t){var n=[];return e.forEach(function(o){o.hidden||o.id!==o.parentId&&e.some(function(e){return o.parentId==e.id})||(o.children=[],o.isRoot=!0,t&&t(o,e,!0),n.push(o),function e(t,n,o,r){o.forEach(function(s){s.hidden||s.parentId!=t||(n.children||(n.children=[]),r&&r(s,n,!1),n.children.push(s),e(s.id,s,o,r))})}(o.id,o,e,t))}),n}};s.default.use(l.a),s.default.config.productionTip=!1,s.default.use(r.a);var Z=new s.default({el:"#app",store:k,router:E,components:{App:u},template:"<App/>"});s.default.prototype.http=J,s.default.prototype.http.init(Z),s.default.prototype.permission=Q,s.default.prototype.permission.init(Z),s.default.prototype.base=W,s.default.prototype.$tabs={},E.beforeEach(function(e,t,n){Z.$Loading.start({color:"white",height:2}),n()}),E.afterEach(function(){Z.$Loading.finish()})},tvR6:function(e,t){}},[0]);