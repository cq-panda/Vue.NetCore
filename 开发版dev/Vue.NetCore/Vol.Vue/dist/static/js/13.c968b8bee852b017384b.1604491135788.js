webpackJsonp([13],{"0W7V":function(e,t){},AabF:function(e,t){},Li47:function(e,t){},"P/sZ":function(e,t){},lmfZ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{isVierificationCode:!1,loading:!1,codeImgSrc:"",userInfo:{userName:"",passWord:"",verificationCode:""}}},directives:{focus:{inserted:function(e){e.focus()}}},created:function(){var e=this,t=this;this.http.post("/api/Sys_Setting/getSystemSetting",{}).then(function(i){t.$store.dispatch("setSystemSetting",i.data),i.data.login_EnableVerificaCode&&e.getVierificationCode()})},methods:{getVierificationCode:function(){var e=this;this.http.get("/api/User/getVierificationCode").then(function(t){e.isVierificationCode=!0,e.codeImgSrc="data:image/png;base64,"+t.img,e.userInfo.UUID=t.uuid})},loginPress:function(e){13==event.keyCode&&this.login()},login:function(){var e=this;if(""==this.userInfo.userName||""==this.userInfo.userName.trim())return this.$Message.error("请输入用户名");if(""==this.userInfo.passWord||""==this.userInfo.passWord.trim())return this.$Message.error("请输入密码");if(this.isVierificationCode){if(""==this.userInfo.verificationCode||""==this.userInfo.verificationCode.trim())return this.$Message.error("请输入验证码")}else this.userInfo.verificationCode="0000",this.userInfo.UUID="0000";this.loading=!0,this.http.post("/api/user/login",this.userInfo,"正在登陆....").then(function(t){if(!t.status)return e.loading=!1,e.isVierificationCode&&e.getVierificationCode(),"验证码不正确"==t.message&&(e.userInfo.verificationCode=""),e.$Message.error(t.message);e.$Message.info("登陆成功,正在跳转!"),e.$store.commit("setUserInfo",t.data),e.$router.push({path:"/"})})}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bg"},[i("div",{staticClass:"content"},[e._m(0),e._v(" "),i("div",{staticClass:"login"},[i("div",{staticClass:"login-contianer"},[i("div",{staticClass:"login-form"},[i("Menu",{staticStyle:{"margin-bottom":"30px"},attrs:{mode:"horizontal","active-name":"1"}},[i("MenuItem",{attrs:{name:"1"}},[i("Icon",{attrs:{type:"md-contacts"}}),e._v("帐号登陆\n            ")],1)],1),e._v(" "),i("div",{staticClass:"form-user",on:{keypress:e.loginPress}},[i("div",{staticClass:"item"},[i("div",{staticClass:"f-text"},[i("label",[i("Icon",{attrs:{type:"ios-people",size:20}}),e._v("用户名： ")],1)]),e._v(" "),i("div",{staticClass:"f-input"},[i("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.userInfo.userName,expression:"userInfo.userName"}],attrs:{type:"text",placeholder:"输入用户"},domProps:{value:e.userInfo.userName},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"userName",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"f-remove",on:{click:function(t){e.userInfo.userName=""}}},[i("Icon",{attrs:{type:"ios-close-circle"}})],1)]),e._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"f-text"},[i("label",[i("Icon",{attrs:{type:"ios-lock",size:20}}),e._v("密   码：\n                ")],1)]),e._v(" "),i("div",{staticClass:"f-input"},[i("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.userInfo.passWord,expression:"userInfo.passWord"}],attrs:{type:"password",placeholder:"输入密码"},domProps:{value:e.userInfo.passWord},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"passWord",t.target.value)}}})]),e._v(" "),i("div",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"f-remove",on:{click:function(t){e.userInfo.passWord=""}}},[i("Icon",{attrs:{type:"ios-close-circle"}})],1)]),e._v(" "),this.isVierificationCode?i("div",{staticClass:"item"},[i("div",{staticClass:"f-text"},[i("label",[i("Icon",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{type:"md-images",size:20}}),e._v("验证码：\n                ")],1)]),e._v(" "),i("div",{staticClass:"f-input"},[i("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.userInfo.verificationCode,expression:"userInfo.verificationCode"}],attrs:{type:"text",placeholder:"输入验证码"},domProps:{value:e.userInfo.verificationCode},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"verificationCode",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"code",on:{click:function(){e.getVierificationCode()}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:""!=e.codeImgSrc,expression:"codeImgSrc != ''"}],attrs:{src:e.codeImgSrc}})])]):e._e()]),e._v(" "),i("div",{staticStyle:{}},[i("Button",{attrs:{size:"large",loading:e.loading,type:"info",long:""},on:{click:e.login}},[e.loading?i("span",[e._v("正在登陆...")]):i("span",[e._v("登陆")])])],1),e._v(" "),i("div",{staticClass:"action"},[i("a",{on:{click:function(){}}},[e._v("忘记密码")])])],1)])])]),e._v(" "),i("div",{staticClass:"l-bg"}),e._v(" "),i("div",{staticClass:"r-bg"}),e._v(" "),i("div",{staticClass:"login-footer"})])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"desc"},[i("div",{staticClass:"title"},[e._v("vol.vue")]),e._v(" "),i("p",[e._v("前后端分离")]),e._v(" "),i("p",[e._v("全自动代码生成")]),e._v(" "),i("p",[e._v("支持前端、后台扩展的快速开发框架")]),e._v(" "),i("p",[e._v("后台.NetCore 3.1、EntityFrameWorkCore 3.1、Dapper")]),e._v(" "),i("p",[e._v("前端Vue、Promise、Vuex、Axios、Iview、Element-UI")]),e._v(" "),i("p",[e._v("帐号admin666,密码123456(本地帐号admin,密码123456)")])])}]};var a=i("VU/8")(s,o,!1,function(e){i("Li47"),i("0W7V"),i("AabF"),i("P/sZ")},"data-v-4c27d420",null);t.default=a.exports}});